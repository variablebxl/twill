(window.webpackJsonp=window.webpackJsonp||[]).push([[48],{407:function(e,t,a){"use strict";a.r(t);var s=a(38),n=Object(s.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"cli-generator"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cli-generator"}},[e._v("#")]),e._v(" CLI Generator")]),e._v(" "),a("p",[e._v("You can generate all the files needed in your application to create a new CRUD module using Twill's Artisan generator:")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[e._v("php artisan twill:module moduleName\n")])])]),a("p",[e._v("The command accepts several options:")]),e._v(" "),a("ul",[a("li",[a("code",[e._v("--hasBlocks (-B)")]),e._v(", to use the block editor on your module form")]),e._v(" "),a("li",[a("code",[e._v("--hasTranslation (-T)")]),e._v(", to add content in multiple languages")]),e._v(" "),a("li",[a("code",[e._v("--hasSlug (-S)")]),e._v(", to generate slugs based on one or multiple fields in your model")]),e._v(" "),a("li",[a("code",[e._v("--hasMedias (-M)")]),e._v(", to attach images to your records")]),e._v(" "),a("li",[a("code",[e._v("--hasFiles (-F)")]),e._v(", to attach files to your records")]),e._v(" "),a("li",[a("code",[e._v("--hasPosition (-P)")]),e._v(", to allow manually reordering of records in the listing screen")]),e._v(" "),a("li",[a("code",[e._v("--hasRevisions(-R)")]),e._v(", to allow comparing and restoring past revisions of records")]),e._v(" "),a("li",[a("code",[e._v("--hasNesting(-N)")]),e._v(", to enable nested items in the module listing (see "),a("RouterLink",{attrs:{to:"/crud-modules/nested-modules.html"}},[e._v("Nested Module")]),e._v(")")],1)]),e._v(" "),a("p",[e._v("The "),a("code",[e._v("twill:module")]),e._v(" command will generate a migration file, a model, a repository, a controller, a form request object and a form view.")]),e._v(" "),a("p",[e._v("Add the route to your admin routes file("),a("code",[e._v("routes/admin.php")]),e._v(").")]),e._v(" "),a("div",{staticClass:"language-php extra-class"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[a("span",{pre:!0,attrs:{class:"token php language-php"}},[a("span",{pre:!0,attrs:{class:"token delimiter important"}},[e._v("<?php")]),e._v("\n\n"),a("span",{pre:!0,attrs:{class:"token class-name static-context"}},[e._v("Route")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("::")]),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("module")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[e._v("'moduleName'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n")])])])]),a("p",[e._v("Setup a new CMS navigation item in "),a("code",[e._v("config/twill-navigation.php")]),e._v(".")]),e._v(" "),a("div",{staticClass:"language-php extra-class"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("return")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("...")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[e._v("'moduleName'")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=>")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("\n        "),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[e._v("'title'")]),e._v("     "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=>")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[e._v("'Module name'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n        "),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[e._v("'module'")]),e._v("    "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=>")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token constant boolean"}},[e._v("true")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("...")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v("\n")])])]),a("p",[e._v("With that in place, after migrating the database using "),a("code",[e._v("php artisan migrate")]),e._v(", you should be able to start creating content. By default, a module only have a title and a description, the ability to be published, and any other feature you added through the CLI generator.")]),e._v(" "),a("p",[e._v("If you provided the "),a("code",[e._v("hasBlocks")]),e._v(" option, you will be able to use the "),a("code",[e._v("block_editor")]),e._v(" form field in the form of that module.")]),e._v(" "),a("p",[e._v("If you provided the "),a("code",[e._v("hasTranslation")]),e._v(" option, and have multiple languages specified in your "),a("code",[e._v("translatable.php")]),e._v(" configuration file, the UI will react automatically and allow publishers to translate content and manage publication at the language level.")]),e._v(" "),a("p",[e._v("If you provided the "),a("code",[e._v("hasSlug")]),e._v(" option, slugs will automatically be generated from the title field.")]),e._v(" "),a("p",[e._v("If you provided the "),a("code",[e._v("hasMedias")]),e._v(" or "),a("code",[e._v("hasFiles")]),e._v(" option, you will be able to respectively add several "),a("code",[e._v("medias")]),e._v(" or "),a("code",[e._v("files")]),e._v(" form fields to the form of that module.")]),e._v(" "),a("p",[e._v("If you provided the "),a("code",[e._v("hasPosition")]),e._v(" option, publishers will be able to manually order  records from the module's listing screen (after enabling the "),a("code",[e._v("reorder")]),e._v(" option in the module's controller "),a("code",[e._v("indexOptions")]),e._v(" array).")]),e._v(" "),a("p",[e._v("If you provided the "),a("code",[e._v("hasRevisions")]),e._v(" option, each form submission will create a new revision in your database so that publishers can compare and restore them in the CMS UI.")]),e._v(" "),a("p",[e._v("Depending on the depth of your module in your navigation, you'll need to wrap your route declaration in one or multiple nested route groups.")]),e._v(" "),a("p",[e._v("You can setup your index options and columns in the generated controller if needed.")]),e._v(" "),a("h2",{attrs:{id:"singleton"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#singleton"}},[e._v("#")]),e._v(" Singleton")]),e._v(" "),a("p",[e._v("With the "),a("code",[e._v("twill:make:singleton")]),e._v(" command you can generate a singleton module.")]),e._v(" "),a("p",[e._v("A singleton is similar to a module, except that of a singleton only one model can exist in the database.")]),e._v(" "),a("p",[e._v("A singleton can be used for a homepage or for example a contact page.")]),e._v(" "),a("p",[e._v("The functionalities are exactly the same as that of regular modules. But they are registered a bit different.")]),e._v(" "),a("p",[e._v("After generating your singleton via the command mentioned above:")]),e._v(" "),a("p",[e._v("Add the route to your admin routes file("),a("code",[e._v("routes/admin.php")]),e._v(").")]),e._v(" "),a("div",{staticClass:"language-php extra-class"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[a("span",{pre:!0,attrs:{class:"token php language-php"}},[a("span",{pre:!0,attrs:{class:"token delimiter important"}},[e._v("<?php")]),e._v("\n\n"),a("span",{pre:!0,attrs:{class:"token class-name static-context"}},[e._v("Route")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("::")]),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("singleton")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[e._v("'moduleName'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n")])])])]),a("p",[e._v("Setup a new CMS navigation item in "),a("code",[e._v("config/twill-navigation.php")]),e._v(".")]),e._v(" "),a("div",{staticClass:"language-php extra-class"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("return")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("...")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[e._v("'moduleName'")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=>")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("\n        "),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[e._v("'title'")]),e._v("     "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=>")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[e._v("'Module name'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n        "),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[e._v("'singleton'")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=>")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token constant boolean"}},[e._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("...")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v("\n")])])]),a("p",[e._v("If you receive an error when visiting the module, you might have forgotton to run the seeder that is mentioned when\ngenerating the singleton. "),a("code",[e._v("php artisan db:seed ModuleNameSeeder")])]),e._v(" "),a("p",[e._v("If you want you can also set the config variable "),a("code",[e._v("twill.auto_seed_singletons")]),e._v(" to true, when the singleton admin page\nis then visited and there is no content found it will be automatically seeded.")])])}),[],!1,null,null,null);t.default=n.exports}}]);